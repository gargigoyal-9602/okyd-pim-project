{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/lp-greenapex/gargi/okydpim-36944-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/lp-greenapex/gargi/okydpim-36944-react-native/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defaults = require(\"./defaults\");\n\nvar _extension = require(\"./extension\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass AsyncStorage {\n  constructor(storageBackend, asOptions) {\n    _defineProperty(this, \"ext\", void 0);\n\n    _defineProperty(this, \"_backend\", void 0);\n\n    _defineProperty(this, \"_config\", void 0);\n\n    _defineProperty(this, \"log\", void 0);\n\n    _defineProperty(this, \"error\", void 0);\n\n    this._backend = storageBackend;\n    this._config = asOptions; // off by default\n\n    this.log = _defaults.noop;\n    this.error = _defaults.noop;\n    this.ext = (0, _extension.createExtension)(this._backend);\n\n    if (this._config.logger) {\n      this.log = typeof this._config.logger === 'function' ? this._config.logger : _defaults.simpleLogger;\n    }\n\n    if (this._config.errorHandler) {\n      this.error = typeof this._config.errorHandler === 'function' ? this._config.errorHandler : _defaults.simpleErrorHandler;\n    }\n  }\n\n  get(key, opts = null) {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var value;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            value = null;\n            _context.prev = 1;\n\n            _this.log({\n              action: 'read-single',\n              key: key\n            });\n\n            _context.next = 5;\n            return _this._backend.getSingle(key, opts);\n\n          case 5:\n            value = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n\n            _this.error(_context.t0);\n\n          case 11:\n            return _context.abrupt(\"return\", value);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 8]]);\n    }))();\n  }\n\n  set(key, value, opts = null) {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n\n            _this2.log({\n              action: 'save-single',\n              key: key,\n              value\n            });\n\n            _context2.next = 4;\n            return _this2._backend.setSingle(key, value, opts);\n\n          case 4:\n            _context2.next = 9;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n\n            _this2.error(_context2.t0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 6]]);\n    }))();\n  }\n\n  getMultiple(keys, opts = null) {\n    var _this3 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var values;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            values = {};\n            _context3.prev = 1;\n\n            _this3.log({\n              action: 'read-many',\n              key: keys\n            });\n\n            _context3.next = 5;\n            return _this3._backend.getMany(keys, opts);\n\n          case 5:\n            values = _context3.sent;\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](1);\n\n            _this3.error(_context3.t0);\n\n          case 11:\n            return _context3.abrupt(\"return\", values);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[1, 8]]);\n    }))();\n  }\n\n  setMultiple(keyValues, opts = null) {\n    var _this4 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n\n            _this4.log({\n              action: 'save-many',\n              value: keyValues\n            });\n\n            _context4.next = 4;\n            return _this4._backend.setMany(keyValues, opts);\n\n          case 4:\n            _context4.next = 9;\n            break;\n\n          case 6:\n            _context4.prev = 6;\n            _context4.t0 = _context4[\"catch\"](0);\n\n            _this4.error(_context4.t0);\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[0, 6]]);\n    }))();\n  }\n\n  remove(key, opts = null) {\n    var _this5 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n\n            _this5.log({\n              action: 'delete-single',\n              key: key\n            });\n\n            _context5.next = 4;\n            return _this5._backend.removeSingle(key, opts);\n\n          case 4:\n            _context5.next = 9;\n            break;\n\n          case 6:\n            _context5.prev = 6;\n            _context5.t0 = _context5[\"catch\"](0);\n\n            _this5.error(_context5.t0);\n\n          case 9:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[0, 6]]);\n    }))();\n  }\n\n  removeMultiple(keys, opts = null) {\n    var _this6 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n\n            _this6.log({\n              action: 'delete-many',\n              key: keys\n            });\n\n            _context6.next = 4;\n            return _this6._backend.removeMany(keys, opts);\n\n          case 4:\n            _context6.next = 9;\n            break;\n\n          case 6:\n            _context6.prev = 6;\n            _context6.t0 = _context6[\"catch\"](0);\n\n            _this6.error(_context6.t0);\n\n          case 9:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6, null, [[0, 6]]);\n    }))();\n  }\n\n  getKeys(opts = null) {\n    var _this7 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var keys;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            keys = [];\n            _context7.prev = 1;\n\n            _this7.log({\n              action: 'keys'\n            });\n\n            _context7.next = 5;\n            return _this7._backend.getKeys(opts);\n\n          case 5:\n            keys = _context7.sent;\n            _context7.next = 11;\n            break;\n\n          case 8:\n            _context7.prev = 8;\n            _context7.t0 = _context7[\"catch\"](1);\n\n            _this7.error(_context7.t0);\n\n          case 11:\n            return _context7.abrupt(\"return\", keys);\n\n          case 12:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7, null, [[1, 8]]);\n    }))();\n  }\n\n  clearStorage(opts = null) {\n    var _this8 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n\n            _this8.log({\n              action: 'drop'\n            });\n\n            _context8.next = 4;\n            return _this8._backend.dropStorage(opts);\n\n          case 4:\n            _context8.next = 9;\n            break;\n\n          case 6:\n            _context8.prev = 6;\n            _context8.t0 = _context8[\"catch\"](0);\n\n            _this8.error(_context8.t0);\n\n          case 9:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8, null, [[0, 6]]);\n    }))();\n  }\n\n}\n\nvar _default = AsyncStorage;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}